<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원 정보 등록</title>
</head>
<body>
<a href="/" id="logo">Chanslog</a><br>
<div class="container" sec:authorize="isAnonymous()">
    <h1>환영합니다!</h1>
    <p>기본 회원 정보를 등록해주세요.</p>
    <form th:action="@{/saveSocialUser}" method="post">
        <label for="name">이름</label>
        <input type="text" id="name" name="name" th:value="${name}"> <br>

        <label for="username">사용자 ID</label>
        <input type="text" id="username" name="username"> <br>

        <label for="email">email</label>
        <input type="email" id="email" name="email">  <br>

        <input type="hidden" name="socialId" th:value="${socialId}">
        <input type="hidden" name="provider" th:value="${provider}">
        <input type="hidden" name="uuid" th:value="${uuid}">
        <div>
            <input type="checkbox" id="terms" name="terms" required>
            <label for="terms">이용약관과 개인정보취급방침에 동의합니다.</label>
        </div>

        <div class="buttons">
            <button type="button" onclick="window.location.href='/'">취소</button>
            <button type="submit">가입</button>
        </div>
    </form>
</div>

<div sec:authorize="isAuthenticated()">
    <p style="color: red;">이미 로그인되어 있습니다!</p>
</div>

</body>
</html>